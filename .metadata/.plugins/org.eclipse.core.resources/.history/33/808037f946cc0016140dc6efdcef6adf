package ie.gmit.sw;

import java.util.ArrayList;
import java.util.List;
import java.util.jar.JarEntry;
import java.util.jar.JarInputStream;
import java.io.*;

public class Loader {
	
public List<String> getJarContents(String jarName){
		
		List<String> classeList = new ArrayList<String>();
		
		try {
			@SuppressWarnings("resource")
			JarInputStream in = new JarInputStream(new FileInputStream(jarName));
			JarEntry next = in.getNextJarEntry();
 
			while (next != null) {
				next = in.getNextJarEntry();
				if (next == null) {
					break;
				}
				if ((next.getName().endsWith(".class"))) {
					
					String name = next.getName().replaceAll("/", "\\.");
					name = name.replaceAll(".class", "");
					if (!name.contains("$")) name.substring(0, name.length() -".class".length());
					System.out.println(name);
					classeList.add(name);
				}
			}
			
			next = in.getNextJarEntry();

		} catch (IOException e) {
			System.out.println("Issue while parsing jar" + e.toString());
		}
		
		return classeList;
		
	}
}
